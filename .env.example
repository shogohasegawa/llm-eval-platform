# LLM評価プラットフォーム環境変数設定ファイル
# ===========================================
# 本ファイルは環境変数設定のテンプレートです
# 実際の環境に合わせて値を変更し、`.env`として保存してください

#==============================
# 基本設定
#==============================
# 環境設定 (development, production)
# 用途: バックエンド動作モード設定、設定クラスで自動読み込み
LLMEVAL_ENV=production

# ログレベル (DEBUG, INFO, WARNING, ERROR)
# 用途: バックエンドログ設定、main.pyで読み込み
LLMEVAL_LOG_LEVEL=INFO

# データベースパス
# 用途: SQLiteデータベースの保存場所
LLMEVAL_DB_PATH=/external_data/llm_eval.db

# タイムゾーン設定
# 用途: コンテナ内のタイムゾーン設定
TZ=Asia/Tokyo

#==============================
# ネットワーク設定
#==============================
# APIサーバーポート (外部公開用)
# 用途: docker-compose.ymlでのポートマッピング
API_PORT=8001

# フロントエンドポート (外部公開用)
# 用途: docker-compose.ymlでのポートマッピング
FRONTEND_PORT=4173

# MLflowサーバー外部ポート (通常は外部公開不要)
# 用途: docker-compose.ymlでのポートマッピング
MLFLOW_EXTERNAL_PORT=5000

# Ollamaサーバーポート (通常は外部公開不要)
# 用途: docker-compose.ymlでのポートマッピング
OLLAMA_PORT=11434

#==============================
# フロントエンド設定
#==============================
# フロントエンド用プロキシパス設定
# 用途: フロントエンドからAPIへの接続設定
# 空白の場合は相対パスを使用（推奨）
VITE_API_BASE_URL=

# Ollamaプロキシパス
# 用途: フロントエンドからOllamaへの接続設定
VITE_OLLAMA_BASE_URL=/ollama

# MLflowプロキシパス
# 用途: フロントエンドからMLflowへの接続設定
VITE_MLFLOW_BASE_URL=/mlflow

#==============================
# MLflow設定
#==============================
# MLflowホスト名 (APIコンテナがMLflowに接続するホスト名)
# 用途: docker-compose.ymlでの接続、proxy.pyで使用
# コンテナ間通信用（通常は変更不要）
MLFLOW_HOST=mlflow

# MLflowポート (通常は変更不要)
# 用途: docker-compose.ymlでの接続、proxy.pyで使用
MLFLOW_PORT=5000

# MLflowホストURI (APIコンテナがMLflowに接続するURI)
# 用途: docker-compose.ymlでの接続、MLFLOW_TRACKING_URIにマップ
# コンテナ間通信用（通常は変更不要）
MLFLOW_HOST_URI=http://${MLFLOW_HOST}:${MLFLOW_PORT}

# 外部アクセス用MLflow設定（EC2のIPアドレスまたはドメイン名を指定）
# 用途: 外部からMLflowダッシュボードへのアクセス用
MLFLOW_EXTERNAL_URI=http://10.0.1.159:5000

#==============================
# Ollama設定
#==============================
# OllamaベースURL (APIコンテナがOllamaに接続するURL)
# 用途: docker-compose.ymlでの接続、proxy.pyで使用
OLLAMA_BASE_URL=http://ollama:11434

# Ollamaホスト (コンテナ内のバインドアドレス)
# 用途: ollamaコンテナの設定
OLLAMA_HOST=0.0.0.0

# Ollamaモデル保存パス
# 用途: ollamaコンテナのモデル保存先
OLLAMA_MODELS_PATH=/root/.ollama

# OllamaのCORS設定（クロスオリジン要求を許可）
# 用途: Ollamaコンテナの設定
OLLAMA_ORIGINS=*

#==============================
# オプション設定
#==============================
# CORS設定 (カンマ区切りで複数指定可)
# 用途: バックエンドのCORS設定
# 本番環境では特定のドメインに限定することを推奨
CORS_ORIGINS=https://your-domain.com,http://localhost:4173

# Ollamaスキップフラグ (true=Ollamaを起動しない)
# 用途: docker-compose.ymlでの条件付き起動
SKIP_OLLAMA=false

#==============================
# GPU設定
#==============================
# GPU設定 (GPUが利用可能な場合)
# 用途: GPUリソース割り当て
GPU_COUNT=1