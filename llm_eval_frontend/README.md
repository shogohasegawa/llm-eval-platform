# LLM Evaluation Platform - Frontend

フロントエンドアプリケーションで、言語モデルのパフォーマンスを追跡、比較、可視化するためのWebUIを提供します。

## 機能

- 複数のLLMプロバイダーとそのモデルを管理
- 評価用のデータセットとデータセットアイテムを管理
- モデル推論と結果を記録
- さまざまなパフォーマンス指標を定義・追跡
- 異なる評価基準に基づくリーダーボードを表示

## 技術スタック

- React 18 with TypeScript
- Material UI コンポーネントライブラリ
- React Router ナビゲーション
- React Query API データ管理
- Vite 高速開発とビルド

## インストール

### 前提条件

- Node.js (version 16 以上)
- npm または yarn
- バックエンドAPIサーバー（`llm_eval_backend`）が実行中であること

### セットアップ

1. 依存関係をインストール:

```bash
npm install
```

または yarn を使用:

```bash
yarn install
```

2. 環境変数の設定:

`.env` ファイルは省略可能です。デフォルトでは相対パスを使用してAPIサーバーに接続します。

必要に応じて `.env` ファイルを作成し、以下のように設定できます:

```
# 空の値または設定しない場合は相対パスを使用（推奨）
VITE_API_BASE_URL=

# 特定のAPIサーバーに接続する場合のみ設定
# VITE_API_BASE_URL=http://localhost:8000
```

※ 通常は、Viteのプロキシ設定により環境変数を設定する必要はありません

## 使用方法

### 開発

開発サーバーを起動（バックエンドAPIが実行中であることを確認）:

```bash
npm run dev
```

これにより開発サーバーが `http://localhost:3000` で起動します。

### 本番用ビルド

本番用にアプリケーションをビルド:

```bash
npm run build
```

これにより `dist` ディレクトリに最適化された本番ファイルが作成されます。

### 本番ビルドのプレビュー

本番ビルドをローカルでプレビュー:

```bash
npm run preview
```

### 型チェック

ファイルを生成せずにTypeScriptの型チェックを実行:

```bash
npm run typecheck
```

### Lint

コード品質の問題をチェックするためにESLintを実行:

```bash
npm run lint
```

## アプリケーション構造

- `/src` - メインソースコード
  - `/api` - APIクライアントとデータフェッチング用のサービスファイル
  - `/components` - 再利用可能なUIコンポーネント
  - `/contexts` - Reactコンテキストプロバイダー
  - `/hooks` - カスタムReactフック
  - `/pages` - トップレベルのページコンポーネント
  - `/types` - TypeScriptインターフェースと型定義

## バックエンドAPIとの連携

このフロントエンドアプリケーションは、`llm_eval_backend`で提供されるAPIエンドポイントを使用してデータを取得・更新します。

### 接続方法

フロントエンドからバックエンドへの接続は以下の優先順位で行われます：

1. 環境変数 `VITE_API_BASE_URL` が設定されている場合：その値を使用
2. 環境変数が未設定または空の場合：**相対パス**を使用（推奨）

### 開発環境での接続

開発時には、Viteのプロキシ機能を使用して `/api` リクエストをバックエンドサーバーに転送します。
`vite.config.ts` ファイルには以下のプロキシ設定があります：

```javascript
proxy: {
  '/api': {
    target: process.env.VITE_API_BASE_URL || 'http://api:8000',
    changeOrigin: true,
    secure: false,
  }
}
```

### 本番環境での接続

本番環境では、以下のいずれかの方法を使用できます：

1. **リバースプロキシを使用**（推奨）：
   - Nginxなどを使用して、フロントエンドとバックエンドを同じドメイン下に配置
   - `/api/*` パスへのリクエストをバックエンドに転送するよう設定

2. **環境変数を使用**：
   - バックエンドサーバーのフルURLを環境変数で指定
   - `VITE_API_BASE_URL=https://api.example.com` のように設定

## ライセンス

このプロジェクトはMITライセンスの下でライセンスされています - 詳細についてはLICENSEファイルを参照してください。